---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "j_notebooks/Get.CFBRef.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: j_notebooks/Get.CFBRef.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">lxml</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">import</span> <span class="nn">string</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">requestPage</span> <span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">baseURL</span> <span class="o">=</span> <span class="s1">&#39;https://www.sports-reference.com/cfb/players/&#39;</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;user-agent&#39;</span><span class="p">:</span><span class="s1">&#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">baseURL</span> <span class="o">+</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
    <span class="n">request</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">request</span><span class="p">[</span><span class="s1">&#39;status_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
    <span class="n">request</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">text</span>
    <span class="k">return</span> <span class="n">request</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">alphabet_string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span>
<span class="n">alphabet_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">alphabet_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">alphabet_list</span><span class="p">:</span>
    <span class="k">while</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">letter</span> <span class="o">+</span> <span class="s1">&#39;-index.html&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">letter</span> <span class="o">+</span> <span class="s1">&#39;-index-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.html&#39;</span>            
        <span class="n">request</span> <span class="o">=</span> <span class="n">requestPage</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="n">url</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;status_code&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;status_code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;..//html//cfb_ref//playerIndex//&quot;</span> <span class="o">+</span> <span class="n">url</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">write_file</span><span class="p">:</span>
                <span class="n">write_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span><span class="o">+</span> <span class="mi">1</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1">#r = requests.get(url, headers=headers)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>a-index.html200
a-index-2.html200
a-index-3.html200
a-index-4.html200
a-index-5.html200
a-index-6.html200
a-index-7.html200
a-index-8.html200
a-index-9.html200
a-index-10.html200
a-index-11.html404
b-index.html200
b-index-2.html200
b-index-3.html200
b-index-4.html200
b-index-5.html200
b-index-6.html200
b-index-7.html200
b-index-8.html200
b-index-9.html200
b-index-10.html200
b-index-11.html200
b-index-12.html200
b-index-13.html200
b-index-14.html200
b-index-15.html200
b-index-16.html200
b-index-17.html200
b-index-18.html200
b-index-19.html200
b-index-20.html200
b-index-21.html200
b-index-22.html200
b-index-23.html200
b-index-24.html200
b-index-25.html200
b-index-26.html200
b-index-27.html200
b-index-28.html404
c-index.html200
c-index-2.html200
c-index-3.html200
c-index-4.html200
c-index-5.html200
c-index-6.html200
c-index-7.html200
c-index-8.html200
c-index-9.html200
c-index-10.html200
c-index-11.html200
c-index-12.html200
c-index-13.html200
c-index-14.html200
c-index-15.html200
c-index-16.html200
c-index-17.html200
c-index-18.html200
c-index-19.html200
c-index-20.html200
c-index-21.html404
d-index.html200
d-index-2.html200
d-index-3.html200
d-index-4.html200
d-index-5.html200
d-index-6.html200
d-index-7.html200
d-index-8.html200
d-index-9.html200
d-index-10.html200
d-index-11.html200
d-index-12.html200
d-index-13.html200
d-index-14.html200
d-index-15.html404
e-index.html200
e-index-2.html200
e-index-3.html200
e-index-4.html200
e-index-5.html200
e-index-6.html200
e-index-7.html404
f-index.html200
f-index-2.html200
f-index-3.html200
f-index-4.html200
f-index-5.html200
f-index-6.html200
f-index-7.html200
f-index-8.html200
f-index-9.html200
f-index-10.html200
f-index-11.html404
g-index.html200
g-index-2.html200
g-index-3.html200
g-index-4.html200
g-index-5.html200
g-index-6.html200
g-index-7.html200
g-index-8.html200
g-index-9.html200
g-index-10.html200
g-index-11.html200
g-index-12.html200
g-index-13.html200
g-index-14.html200
g-index-15.html404
h-index.html200
h-index-2.html200
h-index-3.html200
h-index-4.html200
h-index-5.html200
h-index-6.html200
h-index-7.html200
h-index-8.html200
h-index-9.html200
h-index-10.html200
h-index-11.html200
h-index-12.html200
h-index-13.html200
h-index-14.html200
h-index-15.html200
h-index-16.html200
h-index-17.html200
h-index-18.html200
h-index-19.html200
h-index-20.html200
h-index-21.html200
h-index-22.html200
h-index-23.html404
i-index.html200
i-index-2.html200
i-index-3.html404
j-index.html200
j-index-2.html200
j-index-3.html200
j-index-4.html200
j-index-5.html200
j-index-6.html200
j-index-7.html200
j-index-8.html200
j-index-9.html200
j-index-10.html200
j-index-11.html200
j-index-12.html200
j-index-13.html200
j-index-14.html404
k-index.html200
k-index-2.html200
k-index-3.html200
k-index-4.html200
k-index-5.html200
k-index-6.html200
k-index-7.html200
k-index-8.html200
k-index-9.html200
k-index-10.html404
l-index.html200
l-index-2.html200
l-index-3.html200
l-index-4.html200
l-index-5.html200
l-index-6.html200
l-index-7.html200
l-index-8.html200
l-index-9.html200
l-index-10.html200
l-index-11.html200
l-index-12.html200
l-index-13.html404
m-index.html200
m-index-2.html200
m-index-3.html200
m-index-4.html200
m-index-5.html200
m-index-6.html200
m-index-7.html200
m-index-8.html200
m-index-9.html200
m-index-10.html200
m-index-11.html200
m-index-12.html200
m-index-13.html200
m-index-14.html200
m-index-15.html200
m-index-16.html200
m-index-17.html200
m-index-18.html200
m-index-19.html200
m-index-20.html200
m-index-21.html200
m-index-22.html200
m-index-23.html200
m-index-24.html200
m-index-25.html200
m-index-26.html200
m-index-27.html404
n-index.html200
n-index-2.html200
n-index-3.html200
n-index-4.html200
n-index-5.html200
n-index-6.html404
o-index.html200
o-index-2.html200
o-index-3.html200
o-index-4.html200
o-index-5.html200
o-index-6.html404
p-index.html200
p-index-2.html200
p-index-3.html200
p-index-4.html200
p-index-5.html200
p-index-6.html200
p-index-7.html200
p-index-8.html200
p-index-9.html200
p-index-10.html200
p-index-11.html200
p-index-12.html200
p-index-13.html200
p-index-14.html404
q-index.html200
q-index-2.html404
r-index.html200
r-index-2.html200
r-index-3.html200
r-index-4.html200
r-index-5.html200
r-index-6.html200
r-index-7.html200
r-index-8.html200
r-index-9.html200
r-index-10.html200
r-index-11.html200
r-index-12.html200
r-index-13.html200
r-index-14.html200
r-index-15.html404
s-index.html200
s-index-2.html200
s-index-3.html200
s-index-4.html200
s-index-5.html200
s-index-6.html200
s-index-7.html200
s-index-8.html200
s-index-9.html200
s-index-10.html200
s-index-11.html200
s-index-12.html200
s-index-13.html200
s-index-14.html200
s-index-15.html200
s-index-16.html200
s-index-17.html200
s-index-18.html200
s-index-19.html200
s-index-20.html200
s-index-21.html200
s-index-22.html200
s-index-23.html200
s-index-24.html200
s-index-25.html200
s-index-26.html200
s-index-27.html404
t-index.html200
t-index-2.html200
t-index-3.html200
t-index-4.html200
t-index-5.html200
t-index-6.html200
t-index-7.html200
t-index-8.html200
t-index-9.html200
t-index-10.html200
t-index-11.html200
t-index-12.html200
t-index-13.html404
u-index.html200
u-index-2.html404
v-index.html200
v-index-2.html200
v-index-3.html200
v-index-4.html404
w-index.html200
w-index-2.html200
w-index-3.html200
w-index-4.html200
w-index-5.html200
w-index-6.html200
w-index-7.html200
w-index-8.html200
w-index-9.html200
w-index-10.html200
w-index-11.html200
w-index-12.html200
w-index-13.html200
w-index-14.html200
w-index-15.html200
w-index-16.html200
w-index-17.html200
w-index-18.html200
w-index-19.html200
w-index-20.html200
w-index-21.html404
x-index.html200
x-index-2.html404
y-index.html200
y-index-2.html200
y-index-3.html404
z-index.html200
z-index-2.html200
z-index-3.html404
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

